{
  "models": {
    "OAuthState": {
      "name": "OAuthState",
      "parents": [
        "Timestamped"
      ],
      "fields": [
        {
          "name": "created_at",
          "field_type": {
            "type": "identifier",
            "name": "string"
          },
          "optional": false,
          "default": null,
          "config": {
            "sql": {
              "default": "NOW()",
              "type": "TIMESTAMPTZ"
            }
          },
          "entity_id": {
            "type": "local",
            "local_id": 2
          }
        },
        {
          "name": "state",
          "field_type": {
            "type": "identifier",
            "name": "string"
          },
          "optional": false,
          "default": null,
          "config": {
            "sql": {
              "type": "VARCHAR"
            }
          },
          "entity_id": {
            "type": "local",
            "local_id": 1
          }
        },
        {
          "name": "redirect_url",
          "field_type": {
            "type": "identifier",
            "name": "string"
          },
          "optional": true,
          "default": null,
          "config": {
            "sql": {
              "type": "VARCHAR"
            }
          },
          "entity_id": {
            "type": "local",
            "local_id": 2
          }
        }
      ],
      "config": {
        "sql": {
          "indexes": {
            "primary": {
              "fields": [
                "state"
              ],
              "primary": true
            }
          }
        }
      },
      "entity_id": {
        "type": "local",
        "local_id": 5
      }
    },
    "Identity": {
      "name": "Identity",
      "parents": [
        "TimestampedEntity"
      ],
      "fields": [
        {
          "name": "id",
          "field_type": {
            "type": "identifier",
            "name": "string"
          },
          "optional": false,
          "default": null,
          "config": {
            "sql": {
              "type": "UUID"
            }
          },
          "entity_id": {
            "type": "local",
            "local_id": 1
          }
        },
        {
          "name": "created_at",
          "field_type": {
            "type": "identifier",
            "name": "string"
          },
          "optional": false,
          "default": null,
          "config": {
            "sql": {
              "default": "NOW()",
              "type": "TIMESTAMPTZ"
            }
          },
          "entity_id": {
            "type": "local",
            "local_id": 2
          }
        },
        {
          "name": "user_id",
          "field_type": {
            "type": "identifier",
            "name": "string"
          },
          "optional": false,
          "default": null,
          "config": {
            "sql": {
              "references": {
                "column": "id",
                "on_delete": "cascade",
                "table": "users"
              },
              "type": "UUID"
            }
          },
          "entity_id": {
            "type": "local",
            "local_id": 2
          }
        },
        {
          "name": "provider",
          "field_type": {
            "type": "union",
            "types": [
              {
                "type": "string_literal",
                "value": "github"
              },
              {
                "type": "string_literal",
                "value": "google"
              },
              {
                "type": "string_literal",
                "value": "password"
              }
            ]
          },
          "optional": false,
          "default": null,
          "config": {},
          "entity_id": {
            "type": "local",
            "local_id": 3
          }
        },
        {
          "name": "provider_user_id",
          "field_type": {
            "type": "identifier",
            "name": "string"
          },
          "optional": true,
          "default": null,
          "config": {
            "sql": {
              "type": "VARCHAR"
            }
          },
          "entity_id": {
            "type": "local",
            "local_id": 4
          }
        },
        {
          "name": "provider_username",
          "field_type": {
            "type": "identifier",
            "name": "string"
          },
          "optional": true,
          "default": null,
          "config": {
            "sql": {
              "type": "VARCHAR"
            }
          },
          "entity_id": {
            "type": "local",
            "local_id": 5
          }
        },
        {
          "name": "credentials",
          "field_type": {
            "type": "identifier",
            "name": "string"
          },
          "optional": true,
          "default": null,
          "config": {
            "sql": {
              "type": "JSONB"
            }
          },
          "entity_id": {
            "type": "local",
            "local_id": 6
          }
        }
      ],
      "config": {
        "sql": {
          "indexes": {
            "user_provider_unique": {
              "fields": [
                "user_id",
                "provider"
              ],
              "unique": true
            },
            "provider_user_id_unique": {
              "fields": [
                "provider",
                "provider_user_id"
              ],
              "unique": true
            }
          }
        }
      },
      "entity_id": {
        "type": "local",
        "local_id": 3
      }
    },
    "Session": {
      "name": "Session",
      "parents": [
        "TimestampedEntity"
      ],
      "fields": [
        {
          "name": "id",
          "field_type": {
            "type": "identifier",
            "name": "string"
          },
          "optional": false,
          "default": null,
          "config": {
            "sql": {
              "type": "UUID"
            }
          },
          "entity_id": {
            "type": "local",
            "local_id": 1
          }
        },
        {
          "name": "created_at",
          "field_type": {
            "type": "identifier",
            "name": "string"
          },
          "optional": false,
          "default": null,
          "config": {
            "sql": {
              "default": "NOW()",
              "type": "TIMESTAMPTZ"
            }
          },
          "entity_id": {
            "type": "local",
            "local_id": 2
          }
        },
        {
          "name": "user_id",
          "field_type": {
            "type": "identifier",
            "name": "string"
          },
          "optional": false,
          "default": null,
          "config": {
            "sql": {
              "references": {
                "column": "id",
                "on_delete": "cascade",
                "table": "users"
              },
              "type": "UUID"
            }
          },
          "entity_id": {
            "type": "local",
            "local_id": 2
          }
        },
        {
          "name": "expires_at",
          "field_type": {
            "type": "identifier",
            "name": "string"
          },
          "optional": false,
          "default": null,
          "config": {
            "sql": {
              "type": "TIMESTAMPTZ"
            }
          },
          "entity_id": {
            "type": "local",
            "local_id": 3
          }
        }
      ],
      "config": {
        "sql": {
          "indexes": {
            "user_id_idx": {
              "fields": [
                "user_id"
              ]
            }
          }
        }
      },
      "entity_id": {
        "type": "local",
        "local_id": 4
      }
    },
    "User": {
      "name": "User",
      "parents": [
        "PublicUser"
      ],
      "fields": [
        {
          "name": "id",
          "field_type": {
            "type": "identifier",
            "name": "string"
          },
          "optional": false,
          "default": null,
          "config": {
            "sql": {
              "type": "UUID"
            }
          },
          "entity_id": {
            "type": "local",
            "local_id": 1
          }
        },
        {
          "name": "created_at",
          "field_type": {
            "type": "identifier",
            "name": "string"
          },
          "optional": false,
          "default": null,
          "config": {
            "sql": {
              "default": "NOW()",
              "type": "TIMESTAMPTZ"
            }
          },
          "entity_id": {
            "type": "local",
            "local_id": 2
          }
        },
        {
          "name": "name",
          "field_type": {
            "type": "identifier",
            "name": "string"
          },
          "optional": true,
          "default": null,
          "config": {},
          "entity_id": {
            "type": "local",
            "local_id": 2
          }
        },
        {
          "name": "avatar_url",
          "field_type": {
            "type": "identifier",
            "name": "string"
          },
          "optional": true,
          "default": null,
          "config": {},
          "entity_id": {
            "type": "local",
            "local_id": 3
          }
        },
        {
          "name": "nickname",
          "field_type": {
            "type": "identifier",
            "name": "string"
          },
          "optional": false,
          "default": null,
          "config": {
            "sql": {
              "type": "VARCHAR"
            }
          },
          "entity_id": {
            "type": "local",
            "local_id": 3
          }
        },
        {
          "name": "email",
          "field_type": {
            "type": "identifier",
            "name": "string"
          },
          "optional": true,
          "default": null,
          "config": {
            "sql": {
              "type": "VARCHAR"
            }
          },
          "entity_id": {
            "type": "local",
            "local_id": 1
          }
        }
      ],
      "config": {},
      "entity_id": {
        "type": "local",
        "local_id": 2
      }
    }
  },
  "type_aliases": {
    "AuthProvider": {
      "name": "AuthProvider",
      "alias_type": {
        "type": "union",
        "types": [
          {
            "type": "string_literal",
            "value": "github"
          },
          {
            "type": "string_literal",
            "value": "google"
          },
          {
            "type": "string_literal",
            "value": "password"
          }
        ]
      },
      "config": {},
      "entity_id": {
        "type": "local",
        "local_id": 6
      }
    }
  }
}
